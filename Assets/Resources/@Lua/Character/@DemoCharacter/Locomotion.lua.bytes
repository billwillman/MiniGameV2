local Locomotion = _MOE.class("DemoCharacter_Locomotion", _MOE.SkillBase)

function Locomotion:GetActionNames()
    local ret = {
        "Loom_walk_run"
    }
    return ret
end

-- xlua.private_accessible(CS.Animancer.AnimancerEvent)

function Locomotion:OnInit()
    self.ActionMap = {
        ["Loom_walk_run"] = {
            OnInit = function (animState)
                if not animState then
                    return
                end
                animState:SetFloat("SpeedY", 0.5)
                --self:AnimationState_BindAllEvents(animState)
            end
        }
    }
end

function Locomotion:OnScriptObjectLoaded(resName, translition)
    _MOE.Logger.LogFormat("[Locomotion] resName: {0}", resName)
    if translition and self.ActionMap[resName] then
        self.ActionMap[resName].animState = translition
        local animState = self:PlayAction(translition)
        self.ActionMap[resName].OnInit(animState)
    end
end

function Locomotion:OnSkillBaseInputEvent(actionName, Context)
    if actionName == "Move" then
        -- 移动
        if Context.actionType == _MOE.InputActionPhase.Performed then
            local movePt = Context:GetVector2D()
            _MOE.Logger.Log("[movePt]")
        end
    end
end

return Locomotion